<aura:component implements="force:hasRecordId,force:appHostable,flexipage:availableForAllPageTypes,forceCommunity:availableForAllPageTypes" access="global" controller="Portal_Controller">
  <aura:attribute name="contact" type="Object"/>
  <aura:handler name="init" value="{!this}" action="{!c.init}"/>
  
  <div>
    <lightning:layout>
      <div class="header">
        <h1>Your Giving Impact</h1>
      </div>
    </lightning:layout>
    
    <lightning:layout class="slds-p-bottom_small">
      <!-- Total Giving -->
      <lightning:layoutItem size="6" class="slds-p-horizontal_xx-small">
        <div class="title-row">Total Giving (YTD)</div>
        <div class="detail-row"><p><lightning:formattedNumber value="{!if(empty(v.contact.Calendar_YTD_Total_Giving__c), 0, v.contact.Calendar_YTD_Total_Giving__c)}" style="currency" currencyCode="USD"/></p></div>
        <div class="title-row">Total Giving</div>
        <div class="detail-row"><p><lightning:formattedNumber value="{!v.contact.npo02__TotalOppAmount__c}" style="currency" currencyCode="USD"/></p></div>
      </lightning:layoutItem>
      <!-- Number of Donations -->
      <lightning:layoutItem size="6" class="slds-p-horizontal_xx-small">
        <div class="title-row"># of Donations (YTD)</div>
        <div class="detail-row"><p>{!if(empty(v.contact.Calendar_YTD_Total_Gifts__c),0,v.contact.Calendar_YTD_Total_Gifts__c)}</p></div>
        <div class="title-row"># of Donations</div>
        <div class="detail-row"><p>{!v.contact.npo02__NumberOfClosedOpps__c}</p></div>
      </lightning:layoutItem>
    </lightning:layout>
  </div>
  <hr style="border-top: 1px solid #696764;"/>
</aura:component>